"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[309,943],{2781:function(e,n){n.Z="https://upload.wikimedia.org/wikipedia/commons/4/44/Question_mark_%28black_on_white%29.png"},8733:function(e,n,t){t.d(n,{LZ:function(){return h},Vp:function(){return d},XO:function(){return m},l1:function(){return v},s7:function(){return _}});var a=t(5861),i=t(7757),r=t.n(i),c=t(4569),o=t.n(c),s="https://api.themoviedb.org/3/",u="067f291d21ed1c6d30bd9ade17d843cc",l=function(){var e=(0,a.Z)(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get(n);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=function(){return l("".concat(s,"trending/movie/day?api_key=").concat(u))},d=function(e){return l("".concat(s,"search/movie?api_key=").concat(u,"&language=en-US&query=").concat(e,"\n    &page=1&include_adult=false"))},m=function(e){return l("".concat(s,"movie/").concat(e,"?api_key=").concat(u,"&language=en-US"))},v=function(e){return l("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US"))},h=function(e){return l("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US"))}},2502:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(2791),i=t(4164),r={overlay:"Modal_overlay__baCSF",modal:"Modal_modal__EqaZW",img:"Modal_img__US4DJ"},c=t(184),o=document.querySelector("#modal__root"),s=function(e){var n=e.image,t=e.switchFunc;(0,a.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.code&&t()};return(0,i.createPortal)((0,c.jsx)("div",{className:r.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:(0,c.jsx)("div",{className:r.modal,children:(0,c.jsx)("img",{className:r.image,src:"https://image.tmdb.org/t/p/w500".concat(n),alt:"poster"})})}),o)}},309:function(e,n,t){t.r(n),t.d(n,{default:function(){return S}});var a=t(885),i=t(2791),r=t(6871),c="MovieDetailsPage_container__mXYXW",o="MovieDetailsPage_container__description__GWknl",s="MovieDetailsPage_image__W32Mr",u="MovieDetailsPage_container__links__milLD",l="Button_container__button__ZOivn",_="Button_button__c5p4z",d=t(184),m=function(e){var n=e.handler;return(0,d.jsx)("div",{className:l,children:(0,d.jsx)("button",{className:_,type:"button",onClick:n,children:"Go back"})})},v="Description_description__cIOTH",h="Description_title__db5ZB",f="Description_subtitle__Hqvwh",p="Description_text__-FPmb",g=function(e){var n=e.title,t=e.score,a=e.overview,i=e.genres;return(0,d.jsxs)("div",{className:v,children:[(0,d.jsx)("h1",{className:h,children:n}),(0,d.jsxs)("p",{className:p,children:["User score: ",t]}),(0,d.jsx)("h2",{className:f,children:"Overview"}),(0,d.jsx)("p",{className:p,children:a}),(0,d.jsx)("h2",{className:f,children:"Genres"}),(0,d.jsx)("p",{className:p,children:i&&i.map((function(e){return e.name+" "}))})]})},x=t(501),j="AdditionalLinks_title__raaf3",w=t(6664),k=function(){return(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:j,children:"Additional information:"}),(0,d.jsxs)("ul",{className:w.Z.trends,children:[(0,d.jsx)("li",{className:w.Z.movie__item,children:(0,d.jsx)(x.OL,{className:w.Z.movie__link,to:"cast",children:"Cast"})}),(0,d.jsx)("li",{className:w.Z.movie__item,children:(0,d.jsx)(x.OL,{className:w.Z.movie__link,to:"reviews",children:"Review"})})]})]})},N=t(5943),Z=t(2781),b=t(2502),y=t(8733),P=t(6780),S=function(){var e=(0,i.useState)(""),n=(0,a.Z)(e,2),t=n[0],l=n[1],_=(0,i.useState)(""),v=(0,a.Z)(_,2),h=v[0],f=v[1],p=(0,i.useState)(!1),x=(0,a.Z)(p,2),j=x[0],w=x[1],S=(0,i.useState)(""),D=(0,a.Z)(S,2),E=D[0],F=D[1],H=(0,r.s0)(),M=(0,r.UO)().movieId;(0,i.useEffect)((function(){(0,y.XO)(M).then((function(e){if(404===e.status)throw new Error("This movie is not in the database");l(e.data)})).catch((function(e){return f(e)}))}),[M]);var O=function(){w(!j)};return(0,d.jsxs)(d.Fragment,{children:[j&&(0,d.jsx)(b.Z,{image:E,switchFunc:O}),h?(0,d.jsx)(N.default,{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:c,children:[(0,d.jsx)(m,{handler:function(){window.history.state.idx>0?H(-1):H("/")}}),(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)("img",{src:t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):Z.Z,alt:t.title,className:s,onClick:function(){return e=t.poster_path,F(e),void O();var e}}),t?(0,d.jsx)(g,{title:t.title,score:t.vote_average,overview:t.overview,genres:t.genres}):(0,d.jsx)(P.Z,{})]}),(0,d.jsx)(k,{})]}),(0,d.jsx)("div",{className:u,children:(0,d.jsx)(r.j3,{})})]})]})}},5943:function(e,n,t){t.r(n),t.d(n,{default:function(){return c}});t(2791);var a="NotFound_container__n0Bo4",i="NotFound_text__0o+xS",r=t(184),c=function(){return(0,r.jsx)("div",{className:a,children:(0,r.jsx)("h1",{className:i,children:"Error 404. Page not found :("})})}},6664:function(e,n){n.Z={container:"HomePage_container__nIT7o",header:"HomePage_header__7-joW",trends:"HomePage_trends__zT+2h",movie__item:"HomePage_movie__item__y9780",movie__link:"HomePage_movie__link__iHNNA"}}}]);
//# sourceMappingURL=309.d3ec0610.chunk.js.map