{"version":3,"file":"static/js/309.d3ec0610.chunk.js","mappings":"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","sources":["api/defaultPucture.js","api/movieSearcher.js","webpack://react-homework-template/./src/components/modal/Modal.module.css?5a53","components/modal/Modal.jsx","webpack://react-homework-template/./src/components/movieDetailsPage/MovieDetailsPage.module.css?012f","webpack://react-homework-template/./src/components/movieDetailsPage/button/Button.module.css?e5a8","components/movieDetailsPage/button/Button.jsx","webpack://react-homework-template/./src/components/movieDetailsPage/description/Description.module.css?6e37","components/movieDetailsPage/description/Description.jsx","webpack://react-homework-template/./src/components/movieDetailsPage/additionalLinks/AdditionalLinks.module.css?692f","components/movieDetailsPage/additionalLinks/AdditionalLinks.jsx","components/movieDetailsPage/MovieDetailsPage.jsx","webpack://react-homework-template/./src/components/notFound/NotFound.module.css?fda7","components/notFound/NotFound.jsx","webpack://react-homework-template/./src/components/homePage/HomePage.module.css?c940"],"sourcesContent":["const defaultPicture = \"https://upload.wikimedia.org/wikipedia/commons/4/44/Question_mark_%28black_on_white%29.png\";\n\nexport default defaultPicture;","import axios from \"axios\";\n\nconst BASE_URL = \"https://api.themoviedb.org/3/\";\nconst API_KEY = \"067f291d21ed1c6d30bd9ade17d843cc\";\n\nconst fetchFilms = async (url) => {\n    const response = await axios.get(url);\n    return response;\n};\n\nexport const trendingFilms = () => {\n    return fetchFilms(`${BASE_URL}trending/movie/day?api_key=${API_KEY}`)\n};\n\nexport const searchedFilms = (value) => {\n    return fetchFilms(`${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${value}\n    &page=1&include_adult=false`)\n};\n\nexport const filmDescription = (id_film) => {\n    return fetchFilms(`${BASE_URL}movie/${id_film}?api_key=${API_KEY}&language=en-US`)\n};\n\nexport const filmCast = (id_film) => {\n    return fetchFilms(`${BASE_URL}movie/${id_film}/credits?api_key=${API_KEY}&language=en-US`)\n};\n\nexport const filmReview = (id_film) => {\n    return fetchFilms(`${BASE_URL}movie/${id_film}/reviews?api_key=${API_KEY}&language=en-US`)\n};","// extracted by mini-css-extract-plugin\nexport default {\"overlay\":\"Modal_overlay__baCSF\",\"modal\":\"Modal_modal__EqaZW\",\"img\":\"Modal_img__US4DJ\"};","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal__root');\n\nconst Modal = ({ image, switchFunc }) => {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyboard);\n\n    return () => {\n      window.removeEventListener('keydown', handleKeyboard);\n    };\n  });\n\n  const handleKeyboard = e => {\n    if (e.code === 'Escape') {\n      switchFunc();\n    }\n  };\n\n  const handleClick = e => {\n    if (e.currentTarget === e.target) {\n      switchFunc();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.overlay} onClick={handleClick}>\n      <div className={styles.modal}>\n        <img\n          className={styles.image}\n          src={`https://image.tmdb.org/t/p/w500${image}`}\n          alt={'poster'}\n        />\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n\nModal.propTypes = {\n  image: PropTypes.string.isRequired,\n  switchFunc: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetailsPage_container__mXYXW\",\"container__description\":\"MovieDetailsPage_container__description__GWknl\",\"image\":\"MovieDetailsPage_image__W32Mr\",\"container__links\":\"MovieDetailsPage_container__links__milLD\"};","// extracted by mini-css-extract-plugin\nexport default {\"container__button\":\"Button_container__button__ZOivn\",\"button\":\"Button_button__c5p4z\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ handler }) => {\n  return (\n    <div className={styles.container__button}>\n      <button className={styles.button} type=\"button\" onClick={handler}>\n        Go back\n      </button>\n    </div>\n  );\n};\n\nButton.propTypes = {\n  handler: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","// extracted by mini-css-extract-plugin\nexport default {\"description\":\"Description_description__cIOTH\",\"title\":\"Description_title__db5ZB\",\"subtitle\":\"Description_subtitle__Hqvwh\",\"text\":\"Description_text__-FPmb\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Description.module.css';\n\nconst Description = ({ title, score, overview, genres }) => {\n  return (\n    <div className={styles.description}>\n      <h1 className={styles.title}>{title}</h1>\n      <p className={styles.text}>User score: {score}</p>\n      <h2 className={styles.subtitle}>Overview</h2>\n      <p className={styles.text}>{overview}</p>\n      <h2 className={styles.subtitle}>Genres</h2>\n      <p className={styles.text}>\n        {genres && genres.map(({ name }) => name + ' ')}\n      </p>\n    </div>\n  );\n};\n\nDescription.propTypes = {\n  title: PropTypes.string.isRequired,\n  score: PropTypes.number.isRequired,\n  overview: PropTypes.string.isRequired,\n  genres: PropTypes.array.isRequired,\n};\n\nexport default Description;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"AdditionalLinks_title__raaf3\"};","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport styles from \"./AdditionalLinks.module.css\";\nimport homePageStyles from \"../../homePage/HomePage.module.css\";\n\nconst AdditionalLinks = () => {\n    return (\n        <div>\n            <h2 className={styles.title}>Additional information:</h2>\n            <ul className={homePageStyles.trends}>\n                <li className={homePageStyles.movie__item}>\n                    <NavLink className={homePageStyles.movie__link} to=\"cast\">Cast</NavLink>\n                </li>\n                <li className={homePageStyles.movie__item}>\n                    <NavLink className={homePageStyles.movie__link} to=\"reviews\">Review</NavLink>\n                </li>\n            </ul>\n        </div>\n    )\n};\n\nexport default AdditionalLinks;","import React, { useState, useEffect } from 'react';\nimport { Outlet, useParams, useNavigate } from 'react-router-dom';\n\nimport styles from './MovieDetailsPage.module.css';\nimport Button from './button/Button';\nimport Description from './description/Description';\nimport AdditionalLinks from './additionalLinks/AdditionalLinks';\nimport NotFound from 'components/notFound/NotFound';\nimport defaultPicture from 'api/defaultPucture';\nimport Modal from 'components/modal/Modal';\nimport { filmDescription } from 'api/movieSearcher';\nimport Loader from 'components/loader/Loader';\n\nconst MovieDetailsPage = () => {\n  const [description, setDescription] = useState('');\n  const [error, setError] = useState('');\n  const [modalShow, setModalShow] = useState(false);\n  const [modalValue, setModalValue] = useState('');\n\n  const navigate = useNavigate();\n  const id = useParams().movieId;\n\n  useEffect(() => {\n    filmDescription(id)\n      .then(response => {\n        if (response.status === 404) {\n          throw new Error('This movie is not in the database');\n        }\n        setDescription(response.data);\n      })\n      .catch(error => setError(error));\n  }, [id]);\n\n  const buttonHandler = () => {\n    if (window.history.state.idx > 0) {\n      navigate(-1);\n    } else {\n      navigate('/');\n    }\n  };\n\n  const modalHandler = img => {\n    setModalValue(img);\n    modalSwitch();\n  };\n\n  const modalSwitch = () => {\n    setModalShow(!modalShow);\n  };\n\n  return (\n    <>\n      {modalShow && <Modal image={modalValue} switchFunc={modalSwitch} />}\n      {!error ? (\n        <>\n          <div className={styles.container}>\n            <Button handler={buttonHandler} />\n            <div className={styles.container__description}>\n              <img\n                src={\n                  description.poster_path\n                    ? `https://image.tmdb.org/t/p/w500${description.poster_path}`\n                    : defaultPicture\n                }\n                alt={description.title}\n                className={styles.image}\n                onClick={() => modalHandler(description.poster_path)}\n              />\n\n              {description ? (\n                <Description\n                  title={description.title}\n                  score={description.vote_average}\n                  overview={description.overview}\n                  genres={description.genres}\n                />\n              ) : (\n                <Loader />\n              )}\n            </div>\n            <AdditionalLinks />\n          </div>\n          <div className={styles.container__links}>\n            <Outlet />\n          </div>\n        </>\n      ) : (\n        <NotFound />\n      )}\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"NotFound_container__n0Bo4\",\"text\":\"NotFound_text__0o+xS\"};","import React from 'react';\nimport styles from \"./NotFound.module.css\";\n\n\nconst NotFound = () => {\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.text}>Error 404. Page not found :(</h1>\n        </div>\n    )\n};\n\nexport default NotFound;","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"HomePage_container__nIT7o\",\"header\":\"HomePage_header__7-joW\",\"trends\":\"HomePage_trends__zT+2h\",\"movie__item\":\"HomePage_movie__item__y9780\",\"movie__link\":\"HomePage_movie__link__iHNNA\"};"],"names":["BASE_URL","API_KEY","fetchFilms","url","axios","response","trendingFilms","searchedFilms","value","filmDescription","id_film","filmCast","filmReview","modalRoot","document","querySelector","image","switchFunc","useEffect","window","addEventListener","handleKeyboard","removeEventListener","e","code","createPortal","className","styles","onClick","currentTarget","target","src","alt","handler","type","title","score","overview","genres","map","name","homePageStyles","to","useState","description","setDescription","error","setError","modalShow","setModalShow","modalValue","setModalValue","navigate","useNavigate","id","useParams","movieId","then","status","Error","data","catch","modalSwitch","Modal","NotFound","history","state","idx","poster_path","defaultPicture","img","vote_average","Loader"],"sourceRoot":""}